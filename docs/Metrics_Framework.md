# 产品评估指标框架 (Metrics Framework)

## 1. 指标框架概述

本文档定义了用于衡量“智能数据管道平台 (YouDataPipeline)”产品成功的关键指标体系。通过持续追踪和分析这些指标，我们可以评估产品表现、用户行为、平台健康状况，并指导产品迭代和优化方向，确保产品目标的达成。

## 2. 北极星指标 (North Star Metric)

- **北极星指标**: **成功执行的任务数 (Number of Successfully Executed Tasks)**
    - **备选/补充**: **成功处理的数据总量 (Volume of Data Successfully Processed)** (可以作为辅助北极星指标，或在特定场景下更侧重)
- **定义**: 在特定时间周期内（如每日/每周/每月），通过平台成功完成执行的数据工作流任务实例的总数量。
- **选择依据**:
    - **核心价值体现**: 直接反映了产品为用户提供的核心价值——成功、可靠地完成数据集成和处理任务。
    - **用户活跃度关联**: 任务执行是用户使用产品的核心行为，其增长通常意味着用户活跃度和依赖度的提升。
    - **可驱动性**: 产品功能的改进（如易用性、稳定性、新节点类型）应能直接或间接驱动此指标的增长。
    - **可衡量性**: 该指标易于从后端系统日志或元数据中准确统计。
- **衡量方式**: `SUM(COUNT(task_instance_id))` WHERE `status = 'SUCCEEDED'` GROUP BY `time_period`.

## 3. 核心指标体系

我们将采用组合指标体系来全面评估产品，主要参考 **HEART框架** (Happiness, Engagement, Adoption, Retention, Task Success) 和 **AARRR模型** (Acquisition, Activation, Retention, Referral, Revenue - 针对商业化阶段)。初期更侧重HEART和任务成功。

### 3.1 用户满意度 (Happiness)

- **目标**: 衡量用户对产品的主观感受和满意程度。
- **指标**:
    1.  **NPS (Net Promoter Score - 净推荐值)**
        - **定义**: 通过问卷询问用户“您有多大可能将本产品推荐给朋友或同事？(0-10分)”计算得出。
        - **计算**: (推荐者比例 % - 贬损者比例 %) * 100。
        - **收集方式**: 定期（如每季度）通过应用内弹窗或邮件发送问卷。
        - **目标**: > 40 (根据行业和产品阶段设定具体目标)。
    2.  **用户反馈问题解决率**
        - **定义**: 用户提交的有效Bug或问题反馈中，已得到解决的比例。
        - **计算**: (已解决问题数 / 总有效问题数) * 100%。
        - **收集方式**: 追踪客服系统、社区论坛、GitHub Issues等渠道的问题。
        - **目标**: > 90%。
    3.  **应用商店评分/评论 (如适用)**
        - 若未来有桌面客户端或通过特定市场分发。

### 3.2 用户参与度 (Engagement)

- **目标**: 衡量用户使用产品的深度和频率。
- **指标**:
    1.  **DAU/WAU/MAU (日/周/月活跃用户数)**
        - **定义**: 在特定时间周期内，至少执行过一次关键操作（如登录、执行任务、编辑工作流）的独立用户数。
        - **目标**: 持续增长，关注WAU/MAU比率以衡量用户粘性。
    2.  **平均会话时长 (Average Session Duration)**
        - **定义**: 用户单次访问应用的平均时长。
        - **目标**: 在合理范围内，表明用户在深度使用。
    3.  **核心功能使用频率**:
        - **工作流创建数/用户/周期**: 平均每个活跃用户在特定周期内创建的新工作流数量。
        - **任务执行次数/用户/周期**: 平均每个活跃用户在特定周期内执行的任务次数。
        - **节点使用分布**: 各类型节点（SQL, Python, API源等）在工作流中的使用频率和数量。
    4.  **工作流复杂度指标**:
        - **平均节点数/工作流**: 反映用户构建的工作流的平均复杂程度。
        - **平均数据源连接数/用户**: 用户配置和使用的数据源种类和数量。

### 3.3 用户采纳度 (Adoption)

- **目标**: 衡量新用户转化为活跃用户以及新功能被用户接受和使用的程度。
- **指标**:
    1.  **新用户注册数 (New User Sign-ups)**
        - **定义**: 特定周期内完成注册的新用户数量。
    2.  **新用户激活率 (New User Activation Rate)**
        - **定义**: 新注册用户在特定时间（如7天内）内完成首次核心操作（如成功执行一个工作流）的比例。
        - **计算**: (完成激活操作的新用户数 / 同期新注册用户数) * 100%。
        - **目标**: 提升此比例，表明产品引导和上手体验良好。
    3.  **新功能使用率 (New Feature Adoption Rate)**
        - **定义**: 新功能上线后，在特定时间内尝试使用该功能的活跃用户比例。
        - **计算**: (使用新功能的用户数 / 同期活跃用户总数) * 100%。

### 3.4 用户留存率 (Retention)

- **目标**: 衡量用户在首次使用后，持续使用产品的能力。
- **指标**:
    1.  **次日/7日/30日用户留存率 (Day 1/7/30 Retention Rate)**
        - **定义**: 新用户在注册后第N天（或N周/N月）仍然活跃的比例。
        - **计算**: (第N天仍活跃的用户数 / N天前获取的新用户总数) * 100%。
        - **目标**: 提升各周期留存率，尤其是长期留存。
    2.  **用户流失率 (Churn Rate)**
        - **定义**: 特定周期内流失的用户占期初用户总数的比例。
        - **计算**: (周期内流失用户数 / 期初用户总数) * 100%。

### 3.5 任务成功 (Task Success)

- **目标**: 衡量用户通过产品完成其核心目标的效率和效果。
- **指标**:
    1.  **任务执行成功率 (Task Execution Success Rate)** (北极星指标的组成部分)
        - **定义**: 用户触发的任务实例中，最终成功完成的比例。
        - **计算**: (成功执行的任务实例数 / 总触发的任务实例数) * 100%。
        - **目标**: > 99%。
    2.  **首次执行成功率 (First-Time Task Success Rate)**
        - **定义**: 用户首次尝试执行某个新创建或新配置的工作流时，即成功的比例（不依赖重试）。
        - **目标**: > 95%，反映产品易用性和配置引导的有效性。
    3.  **平均任务执行时长 (Average Task Execution Time)**
        - **定义**: 成功完成的任务实例的平均耗时。可按工作流类型或复杂度分维度统计。
        - **目标**: 在合理范围内，持续优化性能。
    4.  **失败任务重试成功率 (Retry Success Rate for Failed Tasks)**
        - **定义**: 发生失败并触发重试机制的任务中，最终通过重试成功的比例。
        - **计算**: (通过重试成功的任务数 / 总计发起重试的任务数) * 100%。
        - **目标**: 尽可能高，验证重试机制的有效性。
    5.  **数据同步准确性/一致性校验 (需要特定校验机制)**
        - **定义**: (较难直接衡量，需设计抽样对比或校验规则) 目标端数据与源端数据在规则下的一致性比例。

## 4. 功能级评估指标 (示例)

- **数据源配置成功率**: (成功测试连接的数据源数 / 尝试配置的数据源总数) * 100%。
- **SQL节点执行错误率**: (SQL节点执行失败次数 / SQL节点总执行次数) * 100%。
- **Python节点执行错误率**: (Python节点执行失败次数 / Python节点总执行次数) * 100%。

## 5. 指标监测计划

- **数据收集工具/方法**: 
    - **前端埋点**: 使用Segment, Mixpanel, Google Analytics或自建埋点系统收集用户界面交互数据。
    - **后端日志**: 记录详细的API调用、任务执行、系统事件等日志。
    - **数据库元数据**: 从产品自身的元数据库中提取用户、工作流、任务实例等信息。
- **数据存储与处理**: 
    - 集中式数据仓库 (如ClickHouse, Snowflake, BigQuery) 或数据湖。
    - ETL/ELT流程将各来源数据清洗、整合到数仓。
- **数据可视化与报告**: 
    - BI工具 (如Superset, Metabase, Tableau, Power BI) 创建仪表盘和报表。
    - 定期生成产品健康度报告 (日报、周报、月报)。
- **监控与告警**: 
    - 对核心指标（如任务成功率、系统可用性、关键API错误率）设置阈值告警。
    - 使用Prometheus, Grafana, Sentry等工具进行实时监控。
- **回顾与迭代**: 
    - 定期 (如每两周或每月) 召开数据回顾会议，分析指标变化趋势，洞察问题与机会。
    - 基于数据洞察驱动产品决策和迭代优化。

---
**文档结束**